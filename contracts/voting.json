{"contracts":{"contracts/Voting.sol:Voting":{"abi":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"RecvMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"address","name":"receiver_address","type":"address"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"SendMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"winner","type":"uint256"}],"name":"VotingResult","type":"event"},{"inputs":[],"name":"clear_votes","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"crosschain_finalize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"}],"name":"crosschain_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"crosschain_peers","outputs":[{"internalType":"uint256","name":"chainid","type":"uint256"},{"internalType":"uint256","name":"rank","type":"uint256"},{"internalType":"address","name":"addr","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"enter_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"get_result","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"last_message","outputs":[{"internalType":"uint256","name":"sessionId","type":"uint256"},{"internalType":"address","name":"receiverAddress","type":"address"},{"internalType":"uint256","name":"receiverRank","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_received","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_sent","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"my_rank","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"session","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"recv_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"candidate","type":"uint256"},{"internalType":"uint256","name":"voting_round","type":"uint256"}],"name":"recv_vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"retry_last_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"send_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"session_active","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voting_round","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"}],"name":"voting_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"winner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"bin":"60806040527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6000556104d26005557fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60095534801561005e57600080fd5b506118838061006e6000396000f3fe608060405234801561001057600080fd5b50600436106101215760003560e01c806381fb3070116100ad578063e0dea18511610071578063e0dea185146102b1578063e4050670146102cf578063ec1437c1146102eb578063f0186c251461031b578063f99c2f6e1461033757610121565b806381fb30701461022e5780638c67c16f1461024f578063987f07911461026b578063a0c8874414610275578063dfbf53ae1461029357610121565b806334019be4116100f457806334019be4146101885780634d5fa6f8146101a4578063555f3048146101c25780635df81330146101cc5780637f81238f146101fc57610121565b806309c6c784146101265780631c595b9914610156578063299f7328146101605780633363ddf41461016a575b600080fd5b610140600480360381019061013b9190610e2e565b610353565b60405161014d9190610e76565b60405180910390f35b61015e610373565b005b61016861056a565b005b6101726105dc565b60405161017f9190610ea0565b60405180910390f35b6101a2600480360381019061019d9190611001565b6105e2565b005b6101ac610752565b6040516101b99190610ea0565b60405180910390f35b6101ca61075b565b005b6101e660048036038101906101e19190610e2e565b61075d565b6040516101f39190610ea0565b60405180910390f35b61021660048036038101906102119190610e2e565b610778565b6040516102259392919061109e565b60405180910390f35b6102366107d2565b604051610246949392919061115d565b60405180910390f35b61026960048036038101906102649190611209565b610898565b005b6102736109a1565b005b61027d6109cc565b60405161028a9190610e76565b60405180910390f35b61029b6109df565b6040516102a89190610ea0565b60405180910390f35b6102b96109e5565b6040516102c69190610ea0565b60405180910390f35b6102e960048036038101906102e49190611358565b6109eb565b005b61030560048036038101906103009190610e2e565b610a13565b6040516103129190610e76565b60405180910390f35b61033560048036038101906103309190611358565b610a33565b005b610351600480360381019061034c91906113a1565b610c12565b005b60076020528060005260406000206000915054906101000a900460ff1681565b60011515600460009054906101000a900460ff161515146103c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103c09061143e565b60405180910390fd5b60006009541461048257600015156007600080815260200190815260200160002060009054906101000a900460ff1615151415610475576000600190506002600954111561041657600090505b61044760006009546000846040516020016104339392919061147f565b6040516020818303038152906040526105e2565b60016007600080815260200190815260200160002060006101000a81548160ff021916908315150217905550505b61047d6109a1565b610567565b6000600190505b6008805490508110156104dc57600015156006600083815260200190815260200160002060009054906101000a900460ff16151514156104c95750610568565b80806104d4906114eb565b915050610489565b5060026001600281106104f2576104f1611534565b5b0154600260006002811061050957610508611534565b5b01541061051c5760008081905550610525565b60016000819055505b7f201060b0fe09ee325fd608f6778c744aab3b358e14773a68c4697c81187338f76000546040516105569190610ea0565b60405180910390a16105666109a1565b5b5b565b7f8cfca7e9ccc2e620b6b6d1dd5a50d5bc37b53003e45de666f41ad4a41b31d84d600a60000154600a60010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600a60020154600a6003016040516105d29493929190611659565b60405180910390a1565b60095481565b6000600883815481106105f8576105f7611534565b5b906000526020600020906003020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690507f8cfca7e9ccc2e620b6b6d1dd5a50d5bc37b53003e45de666f41ad4a41b31d84d600554828585604051610663949392919061115d565b60405180910390a1604051806080016040528060055481526020018273ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815250600a6000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301908051906020019061071d929190610ccf565b5090505060016007600085815260200190815260200160002060006101000a81548160ff021916908315150217905550505050565b60008054905090565b565b6002816002811061076d57600080fd5b016000915090505481565b6008818154811061078857600080fd5b90600052602060002090600302016000915090508060000154908060010154908060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905083565b600a8060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169080600201549080600301805461081590611592565b80601f016020809104026020016040519081016040528092919081815260200182805461084190611592565b801561088e5780601f106108635761010080835404028352916020019161088e565b820191906000526020600020905b81548152906001019060200180831161087157829003601f168201915b5050505050905084565b7f6f6286fd0464e31eb905b212ca6a0d55955d0f874a1ac87b99e770cb8ca52d5a60055460095484846040516108d194939291906116d2565b60405180910390a1600080600084848101906108ed9190611712565b9250925092506006600084815260200190815260200160002060009054906101000a900460ff16156109215750505061099c565b60016006600085815260200190815260200160002060006101000a81548160ff02191690831515021790555060016002826002811061096357610962611534565b5b0160008282546109739190611765565b92505081905550600460009054906101000a900460ff161561099857610997610373565b5b5050505b505050565b6000600460006101000a81548160ff021916908315150217905550600860006109ca9190610d55565b565b600460009054906101000a900460ff1681565b60005481565b60015481565b6109f481610a33565b60018054610a029190611765565b600181905550610a10610373565b50565b60066020528060005260406000206000915054906101000a900460ff1681565b60001515600460009054906101000a900460ff16151514610a89576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a809061182d565b60405180910390fd5b60086000610a979190610d55565b60005b8151811015610beb5760086040518060600160405280600184610abd9190611765565b8152602001838152602001848481518110610adb57610ada611534565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff168152509080600181540180825580915050600190039060005260206000209060030201600090919091909150600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050503073ffffffffffffffffffffffffffffffffffffffff16828281518110610bac57610bab611534565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff161415610bd857806009819055505b8080610be3906114eb565b915050610a9a565b506001600460006101000a81548160ff021916908315150217905550610c0f610c51565b50565b600160028360028110610c2857610c27611534565b5b0154610c349190611765565b60028360028110610c4857610c47611534565b5b01819055505050565b60005b600880549050811015610ccc5760006006600083815260200190815260200160002060006101000a81548160ff02191690831515021790555060006007600083815260200190815260200160002060006101000a81548160ff0219169083151502179055508080610cc4906114eb565b915050610c54565b50565b828054610cdb90611592565b90600052602060002090601f016020900481019282610cfd5760008555610d44565b82601f10610d1657805160ff1916838001178555610d44565b82800160010185558215610d44579182015b82811115610d43578251825591602001919060010190610d28565b5b509050610d519190610d79565b5090565b5080546000825560030290600052602060002090810190610d769190610d96565b50565b5b80821115610d92576000816000905550600101610d7a565b5090565b5b80821115610de05760008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600301610d97565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b610e0b81610df8565b8114610e1657600080fd5b50565b600081359050610e2881610e02565b92915050565b600060208284031215610e4457610e43610dee565b5b6000610e5284828501610e19565b91505092915050565b60008115159050919050565b610e7081610e5b565b82525050565b6000602082019050610e8b6000830184610e67565b92915050565b610e9a81610df8565b82525050565b6000602082019050610eb56000830184610e91565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610f0e82610ec5565b810181811067ffffffffffffffff82111715610f2d57610f2c610ed6565b5b80604052505050565b6000610f40610de4565b9050610f4c8282610f05565b919050565b600067ffffffffffffffff821115610f6c57610f6b610ed6565b5b610f7582610ec5565b9050602081019050919050565b82818337600083830152505050565b6000610fa4610f9f84610f51565b610f36565b905082815260208101848484011115610fc057610fbf610ec0565b5b610fcb848285610f82565b509392505050565b600082601f830112610fe857610fe7610ebb565b5b8135610ff8848260208601610f91565b91505092915050565b6000806040838503121561101857611017610dee565b5b600061102685828601610e19565b925050602083013567ffffffffffffffff81111561104757611046610df3565b5b61105385828601610fd3565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006110888261105d565b9050919050565b6110988161107d565b82525050565b60006060820190506110b36000830186610e91565b6110c06020830185610e91565b6110cd604083018461108f565b949350505050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561110f5780820151818401526020810190506110f4565b8381111561111e576000848401525b50505050565b600061112f826110d5565b61113981856110e0565b93506111498185602086016110f1565b61115281610ec5565b840191505092915050565b60006080820190506111726000830187610e91565b61117f602083018661108f565b61118c6040830185610e91565b818103606083015261119e8184611124565b905095945050505050565b600080fd5b600080fd5b60008083601f8401126111c9576111c8610ebb565b5b8235905067ffffffffffffffff8111156111e6576111e56111a9565b5b602083019150836001820283011115611202576112016111ae565b5b9250929050565b60008060006040848603121561122257611221610dee565b5b600061123086828701610e19565b935050602084013567ffffffffffffffff81111561125157611250610df3565b5b61125d868287016111b3565b92509250509250925092565b600067ffffffffffffffff82111561128457611283610ed6565b5b602082029050602081019050919050565b61129e8161107d565b81146112a957600080fd5b50565b6000813590506112bb81611295565b92915050565b60006112d46112cf84611269565b610f36565b905080838252602082019050602084028301858111156112f7576112f66111ae565b5b835b81811015611320578061130c88826112ac565b8452602084019350506020810190506112f9565b5050509392505050565b600082601f83011261133f5761133e610ebb565b5b813561134f8482602086016112c1565b91505092915050565b60006020828403121561136e5761136d610dee565b5b600082013567ffffffffffffffff81111561138c5761138b610df3565b5b6113988482850161132a565b91505092915050565b600080604083850312156113b8576113b7610dee565b5b60006113c685828601610e19565b92505060206113d785828601610e19565b9150509250929050565b600082825260208201905092915050565b7f73657373696f6e206e6f74207374617274656400000000000000000000000000600082015250565b60006114286013836113e1565b9150611433826113f2565b602082019050919050565b600060208201905081810360008301526114578161141b565b9050919050565b6000819050919050565b61147961147482610df8565b61145e565b82525050565b600061148b8286611468565b60208201915061149b8285611468565b6020820191506114ab8284611468565b602082019150819050949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006114f682610df8565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415611529576115286114bc565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806115aa57607f821691505b602082108114156115be576115bd611563565b5b50919050565b60008190508160005260206000209050919050565b600081546115e681611592565b6115f081866110e0565b9450600182166000811461160b576001811461161d57611650565b60ff1983168652602086019350611650565b611626856115c4565b60005b8381101561164857815481890152600182019150602081019050611629565b808801955050505b50505092915050565b600060808201905061166e6000830187610e91565b61167b602083018661108f565b6116886040830185610e91565b818103606083015261169a81846115d9565b905095945050505050565b60006116b183856110e0565b93506116be838584610f82565b6116c783610ec5565b840190509392505050565b60006060820190506116e76000830187610e91565b6116f46020830186610e91565b81810360408301526117078184866116a5565b905095945050505050565b60008060006060848603121561172b5761172a610dee565b5b600061173986828701610e19565b935050602061174a86828701610e19565b925050604061175b86828701610e19565b9150509250925092565b600061177082610df8565b915061177b83610df8565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156117b0576117af6114bc565b5b828201905092915050565b7f73657373696f6e20616c726561647920737461727465642c2066696e616c697a60008201527f6520666972737400000000000000000000000000000000000000000000000000602082015250565b60006118176027836113e1565b9150611822826117bb565b604082019050919050565b600060208201905081810360008301526118468161180a565b905091905056fea264697066735822122041ca844db2a080150a3a46ecbad31fa87c8b49819be4a7c644a141eadd83423464736f6c634300080a0033"}},"version":"0.8.10+commit.fc410830.Linux.g++"}