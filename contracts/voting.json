{"contracts":{"contracts/Voting.sol:Voting":{"abi":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"RecvMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"SendMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"winner","type":"uint256"}],"name":"VotingResult","type":"event"},{"inputs":[],"name":"clear_votes","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"crosschain_finalize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"}],"name":"crosschain_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"crosschain_peers","outputs":[{"internalType":"uint256","name":"chainid","type":"uint256"},{"internalType":"uint256","name":"rank","type":"uint256"},{"internalType":"address","name":"addr","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"enter_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"get_result","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_received","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_sent","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"my_rank","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"session","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"recv_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"candidate","type":"uint256"},{"internalType":"uint256","name":"voting_round","type":"uint256"}],"name":"recv_vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"send_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"session_active","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voting_round","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"}],"name":"voting_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"winner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"bin":"60806040527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6000556104d26005557fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60095534801561005e57600080fd5b506115368061006e6000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80638c67c16f116100a2578063e0dea18511610071578063e0dea18514610270578063e40506701461028e578063ec1437c1146102aa578063f0186c25146102da578063f99c2f6e146102f65761010b565b80638c67c16f1461020e578063987f07911461022a578063a0c8874414610234578063dfbf53ae146102525761010b565b80634d5fa6f8116100de5780634d5fa6f814610184578063555f3048146101a25780635df81330146101ac5780637f81238f146101dc5761010b565b806309c6c784146101105780631c595b99146101405780633363ddf41461014a57806334019be414610168575b600080fd5b61012a60048036038101906101259190610c01565b610312565b6040516101379190610c49565b60405180910390f35b610148610332565b005b610152610529565b60405161015f9190610c73565b60405180910390f35b610182600480360381019061017d9190610dd4565b61052f565b005b61018c610656565b6040516101999190610c73565b60405180910390f35b6101aa61065f565b005b6101c660048036038101906101c19190610c01565b610699565b6040516101d39190610c73565b60405180910390f35b6101f660048036038101906101f19190610c01565b6106b4565b60405161020593929190610e71565b60405180910390f35b61022860048036038101906102239190610f08565b61070e565b005b610232610817565b005b61023c610842565b6040516102499190610c49565b60405180910390f35b61025a610855565b6040516102679190610c73565b60405180910390f35b61027861085b565b6040516102859190610c73565b60405180910390f35b6102a860048036038101906102a39190611057565b610861565b005b6102c460048036038101906102bf9190610c01565b610889565b6040516102d19190610c49565b60405180910390f35b6102f460048036038101906102ef9190611057565b6108a9565b005b610310600480360381019061030b91906110a0565b610a88565b005b60076020528060005260406000206000915054906101000a900460ff1681565b60011515600460009054906101000a900460ff16151514610388576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161037f9061113d565b60405180910390fd5b60006009541461044157600015156007600080815260200190815260200160002060009054906101000a900460ff161515141561043457600060019050600260095411156103d557600090505b61040660006009546000846040516020016103f29392919061117e565b60405160208183030381529060405261052f565b60016007600080815260200190815260200160002060006101000a81548160ff021916908315150217905550505b61043c610817565b610526565b6000600190505b60088054905081101561049b57600015156006600083815260200190815260200160002060009054906101000a900460ff16151514156104885750610527565b8080610493906111ea565b915050610448565b5060026001600281106104b1576104b0611233565b5b015460026000600281106104c8576104c7611233565b5b0154106104db57600080819055506104e4565b60016000819055505b7f201060b0fe09ee325fd608f6778c744aab3b358e14773a68c4697c81187338f76000546040516105159190610c73565b60405180910390a1610525610817565b5b5b565b60095481565b60006008838154811061054557610544611233565b5b906000526020600020906003020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690507ffab14f1cee99916341bd372c1283846b4443887ee5fb8244028408103c2ed2d160055484846040516105ae939291906112ea565b60405180910390a18073ffffffffffffffffffffffffffffffffffffffff16638c67c16f600554846040518363ffffffff1660e01b81526004016105f3929190611328565b600060405180830381600087803b15801561060d57600080fd5b505af1158015610621573d6000803e3d6000fd5b5050505060016007600085815260200190815260200160002060006101000a81548160ff021916908315150217905550505050565b60008054905090565b6000600260006002811061067657610675611233565b5b01819055506000600260016002811061069257610691611233565b5b0181905550565b600281600281106106a957600080fd5b016000915090505481565b600881815481106106c457600080fd5b90600052602060002090600302016000915090508060000154908060010154908060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905083565b7f6f6286fd0464e31eb905b212ca6a0d55955d0f874a1ac87b99e770cb8ca52d5a60055460095484846040516107479493929190611385565b60405180910390a16000806000848481019061076391906113c5565b9250925092506006600084815260200190815260200160002060009054906101000a900460ff161561079757505050610812565b60016006600085815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600282600281106107d9576107d8611233565b5b0160008282546107e99190611418565b92505081905550600460009054906101000a900460ff161561080e5761080d610332565b5b5050505b505050565b6000600460006101000a81548160ff021916908315150217905550600860006108409190610b45565b565b600460009054906101000a900460ff1681565b60005481565b60015481565b61086a816108a9565b600180546108789190611418565b600181905550610886610332565b50565b60066020528060005260406000206000915054906101000a900460ff1681565b60001515600460009054906101000a900460ff161515146108ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108f6906114e0565b60405180910390fd5b6008600061090d9190610b45565b60005b8151811015610a6157600860405180606001604052806001846109339190611418565b815260200183815260200184848151811061095157610950611233565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff168152509080600181540180825580915050600190039060005260206000209060030201600090919091909150600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050503073ffffffffffffffffffffffffffffffffffffffff16828281518110610a2257610a21611233565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff161415610a4e57806009819055505b8080610a59906111ea565b915050610910565b506001600460006101000a81548160ff021916908315150217905550610a85610ac7565b50565b600160028360028110610a9e57610a9d611233565b5b0154610aaa9190611418565b60028360028110610abe57610abd611233565b5b01819055505050565b60005b600880549050811015610b425760006006600083815260200190815260200160002060006101000a81548160ff02191690831515021790555060006007600083815260200190815260200160002060006101000a81548160ff0219169083151502179055508080610b3a906111ea565b915050610aca565b50565b5080546000825560030290600052602060002090810190610b669190610b69565b50565b5b80821115610bb35760008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600301610b6a565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b610bde81610bcb565b8114610be957600080fd5b50565b600081359050610bfb81610bd5565b92915050565b600060208284031215610c1757610c16610bc1565b5b6000610c2584828501610bec565b91505092915050565b60008115159050919050565b610c4381610c2e565b82525050565b6000602082019050610c5e6000830184610c3a565b92915050565b610c6d81610bcb565b82525050565b6000602082019050610c886000830184610c64565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610ce182610c98565b810181811067ffffffffffffffff82111715610d0057610cff610ca9565b5b80604052505050565b6000610d13610bb7565b9050610d1f8282610cd8565b919050565b600067ffffffffffffffff821115610d3f57610d3e610ca9565b5b610d4882610c98565b9050602081019050919050565b82818337600083830152505050565b6000610d77610d7284610d24565b610d09565b905082815260208101848484011115610d9357610d92610c93565b5b610d9e848285610d55565b509392505050565b600082601f830112610dbb57610dba610c8e565b5b8135610dcb848260208601610d64565b91505092915050565b60008060408385031215610deb57610dea610bc1565b5b6000610df985828601610bec565b925050602083013567ffffffffffffffff811115610e1a57610e19610bc6565b5b610e2685828601610da6565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610e5b82610e30565b9050919050565b610e6b81610e50565b82525050565b6000606082019050610e866000830186610c64565b610e936020830185610c64565b610ea06040830184610e62565b949350505050565b600080fd5b600080fd5b60008083601f840112610ec857610ec7610c8e565b5b8235905067ffffffffffffffff811115610ee557610ee4610ea8565b5b602083019150836001820283011115610f0157610f00610ead565b5b9250929050565b600080600060408486031215610f2157610f20610bc1565b5b6000610f2f86828701610bec565b935050602084013567ffffffffffffffff811115610f5057610f4f610bc6565b5b610f5c86828701610eb2565b92509250509250925092565b600067ffffffffffffffff821115610f8357610f82610ca9565b5b602082029050602081019050919050565b610f9d81610e50565b8114610fa857600080fd5b50565b600081359050610fba81610f94565b92915050565b6000610fd3610fce84610f68565b610d09565b90508083825260208201905060208402830185811115610ff657610ff5610ead565b5b835b8181101561101f578061100b8882610fab565b845260208401935050602081019050610ff8565b5050509392505050565b600082601f83011261103e5761103d610c8e565b5b813561104e848260208601610fc0565b91505092915050565b60006020828403121561106d5761106c610bc1565b5b600082013567ffffffffffffffff81111561108b5761108a610bc6565b5b61109784828501611029565b91505092915050565b600080604083850312156110b7576110b6610bc1565b5b60006110c585828601610bec565b92505060206110d685828601610bec565b9150509250929050565b600082825260208201905092915050565b7f73657373696f6e206e6f74207374617274656400000000000000000000000000600082015250565b60006111276013836110e0565b9150611132826110f1565b602082019050919050565b600060208201905081810360008301526111568161111a565b9050919050565b6000819050919050565b61117861117382610bcb565b61115d565b82525050565b600061118a8286611167565b60208201915061119a8285611167565b6020820191506111aa8284611167565b602082019150819050949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006111f582610bcb565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415611228576112276111bb565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600081519050919050565b600082825260208201905092915050565b60005b8381101561129c578082015181840152602081019050611281565b838111156112ab576000848401525b50505050565b60006112bc82611262565b6112c6818561126d565b93506112d681856020860161127e565b6112df81610c98565b840191505092915050565b60006060820190506112ff6000830186610c64565b61130c6020830185610c64565b818103604083015261131e81846112b1565b9050949350505050565b600060408201905061133d6000830185610c64565b818103602083015261134f81846112b1565b90509392505050565b6000611364838561126d565b9350611371838584610d55565b61137a83610c98565b840190509392505050565b600060608201905061139a6000830187610c64565b6113a76020830186610c64565b81810360408301526113ba818486611358565b905095945050505050565b6000806000606084860312156113de576113dd610bc1565b5b60006113ec86828701610bec565b93505060206113fd86828701610bec565b925050604061140e86828701610bec565b9150509250925092565b600061142382610bcb565b915061142e83610bcb565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115611463576114626111bb565b5b828201905092915050565b7f73657373696f6e20616c726561647920737461727465642c2066696e616c697a60008201527f6520666972737400000000000000000000000000000000000000000000000000602082015250565b60006114ca6027836110e0565b91506114d58261146e565b604082019050919050565b600060208201905081810360008301526114f9816114bd565b905091905056fea26469706673582212208a27bdc3e0184ed25e829923246e19cbe45b1b13813dbb7c4fd3ddfcd5d37b7c64736f6c634300080a0033"}},"version":"0.8.10+commit.fc410830.Linux.g++"}