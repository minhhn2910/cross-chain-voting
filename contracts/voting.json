{"contracts":{"contracts/Voting.sol:Voting":{"abi":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"RecvMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"session_id","type":"uint256"},{"indexed":false,"internalType":"address","name":"receiver_address","type":"address"},{"indexed":false,"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"SendMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"candidate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sender_rank","type":"uint256"}],"name":"VoteCast","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"winner","type":"uint256"}],"name":"VotingResult","type":"event"},{"inputs":[],"name":"clear_votes","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"crosschain_finalize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"},{"internalType":"uint256","name":"_my_rank","type":"uint256"}],"name":"crosschain_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"crosschain_peers","outputs":[{"internalType":"uint256","name":"chainid","type":"uint256"},{"internalType":"uint256","name":"rank","type":"uint256"},{"internalType":"address","name":"addr","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"enter_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"get_result","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"last_message","outputs":[{"internalType":"uint256","name":"sessionId","type":"uint256"},{"internalType":"address","name":"receiverAddress","type":"address"},{"internalType":"uint256","name":"receiverRank","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"last_round_votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_received","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"message_sent","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"my_rank","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"session","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"recv_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"candidate","type":"uint256"},{"internalType":"uint256","name":"voting_round","type":"uint256"}],"name":"recv_vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"retry_last_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"receiver_rank","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"send_message","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"session_active","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voting_round","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"peers","type":"address[]"},{"internalType":"uint256","name":"_my_rank","type":"uint256"}],"name":"voting_session","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"winner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"bin":"60806040527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6000556104d26007557fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600b5534801561005e57600080fd5b506119a48061006e6000396000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c80637f81238f116100ad578063a0c8874411610071578063a0c88744146102e8578063dfbf53ae14610306578063e0dea18514610324578063ec1437c114610342578063f99c2f6e146103725761012c565b80637f81238f1461025357806381fb3070146102855780638c67c16f146102a6578063949b26af146102c2578063987f0791146102de5761012c565b806339b13ddc116100f457806339b13ddc146101af5780634d5fa6f8146101df578063555f3048146101fd5780635df81330146102075780636a927958146102375761012c565b806309c6c784146101315780631c595b9914610161578063299f73281461016b5780633363ddf41461017557806334019be414610193575b600080fd5b61014b60048036038101906101469190610f13565b61038e565b6040516101589190610f5b565b60405180910390f35b6101696103ae565b005b6101736105a5565b005b61017d610617565b60405161018a9190610f85565b60405180910390f35b6101ad60048036038101906101a891906110e6565b61061d565b005b6101c960048036038101906101c49190610f13565b61078d565b6040516101d69190610f85565b60405180910390f35b6101e76107a8565b6040516101f49190610f85565b60405180910390f35b6102056107b1565b005b610221600480360381019061021c9190610f13565b61084d565b60405161022e9190610f85565b60405180910390f35b610251600480360381019061024c9190611268565b610868565b005b61026d60048036038101906102689190610f13565b6109f9565b60405161027c939291906112d3565b60405180910390f35b61028d610a53565b60405161029d9493929190611392565b60405180910390f35b6102c060048036038101906102bb9190611439565b610b19565b005b6102dc60048036038101906102d79190611268565b610c5b565b005b6102e6610c85565b005b6102f0610cb8565b6040516102fd9190610f5b565b60405180910390f35b61030e610ccb565b60405161031b9190610f85565b60405180910390f35b61032c610cd1565b6040516103399190610f85565b60405180910390f35b61035c60048036038101906103579190610f13565b610cd7565b6040516103699190610f5b565b60405180910390f35b61038c60048036038101906103879190611499565b610cf7565b005b60096020528060005260406000206000915054906101000a900460ff1681565b60011515600660009054906101000a900460ff16151514610404576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103fb90611536565b60405180910390fd5b6000600b54146104bd57600015156009600080815260200190815260200160002060009054906101000a900460ff16151514156104b0576000600190506002600b54111561045157600090505b6104826000600b5460008460405160200161046e93929190611577565b60405160208183030381529060405261061d565b60016009600080815260200190815260200160002060006101000a81548160ff021916908315150217905550505b6104b8610c85565b6105a2565b6000600190505b600a8054905081101561051757600015156008600083815260200190815260200160002060009054906101000a900460ff161515141561050457506105a3565b808061050f906115e3565b9150506104c4565b50600260016002811061052d5761052c61162c565b5b015460026000600281106105445761054361162c565b5b0154106105575760008081905550610560565b60016000819055505b7f201060b0fe09ee325fd608f6778c744aab3b358e14773a68c4697c81187338f76000546040516105919190610f85565b60405180910390a16105a1610c85565b5b5b565b7f8cfca7e9ccc2e620b6b6d1dd5a50d5bc37b53003e45de666f41ad4a41b31d84d600c60000154600c60010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600c60020154600c60030160405161060d9493929190611751565b60405180910390a1565b600b5481565b6000600a83815481106106335761063261162c565b5b906000526020600020906003020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690507f8cfca7e9ccc2e620b6b6d1dd5a50d5bc37b53003e45de666f41ad4a41b31d84d60075482858560405161069e9493929190611392565b60405180910390a1604051806080016040528060075481526020018273ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815250600c6000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201556060820151816003019080519060200190610758929190610db4565b5090505060016009600085815260200190815260200160002060006101000a81548160ff021916908315150217905550505050565b6004816002811061079d57600080fd5b016000915090505481565b60008054905090565b60026000600281106107c6576107c561162c565b5b015460046000600281106107dd576107dc61162c565b5b018190555060026001600281106107f7576107f661162c565b5b0154600460016002811061080e5761080d61162c565b5b01819055506000600260006002811061082a5761082961162c565b5b0181905550600060026001600281106108465761084561162c565b5b0181905550565b6002816002811061085d57600080fd5b016000915090505481565b60001515600660009054906101000a900460ff161515146108be576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108b59061180f565b60405180910390fd5b600a60006108cc9190610e3a565b80600b8190555060005b82518110156109d157600a60405180606001604052806001846108f9919061182f565b81526020018381526020018584815181106109175761091661162c565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff168152509080600181540180825580915050600190039060005260206000209060030201600090919091909150600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505080806109c9906115e3565b9150506108d6565b506001600660006101000a81548160ff0219169083151502179055506109f5610d36565b5050565b600a8181548110610a0957600080fd5b90600052602060002090600302016000915090508060000154908060010154908060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905083565b600c8060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806002015490806003018054610a969061168a565b80601f0160208091040260200160405190810160405280929190818152602001828054610ac29061168a565b8015610b0f5780601f10610ae457610100808354040283529160200191610b0f565b820191906000526020600020905b815481529060010190602001808311610af257829003601f168201915b5050505050905084565b7f6f6286fd0464e31eb905b212ca6a0d55955d0f874a1ac87b99e770cb8ca52d5a600754600b548484604051610b5294939291906118b2565b60405180910390a160008060008484810190610b6e91906118f2565b9250925092506008600084815260200190815260200160002060009054906101000a900460ff1615610ba257505050610c56565b60016008600085815260200190815260200160002060006101000a81548160ff0219169083151502179055507fc31875ef3ed5138b71a0c1da7e494bc4d2ba4f567084ea481ec9c45f3a93948b8184604051610bff929190611945565b60405180910390a1600160028260028110610c1d57610c1c61162c565b5b016000828254610c2d919061182f565b92505081905550600660009054906101000a900460ff1615610c5257610c516103ae565b5b5050505b505050565b610c658282610868565b60018054610c73919061182f565b600181905550610c816103ae565b5050565b6000600660006101000a81548160ff021916908315150217905550600a6000610cae9190610e3a565b610cb66107b1565b565b600660009054906101000a900460ff1681565b60005481565b60015481565b60086020528060005260406000206000915054906101000a900460ff1681565b600160028360028110610d0d57610d0c61162c565b5b0154610d19919061182f565b60028360028110610d2d57610d2c61162c565b5b01819055505050565b60005b600a80549050811015610db15760006008600083815260200190815260200160002060006101000a81548160ff02191690831515021790555060006009600083815260200190815260200160002060006101000a81548160ff0219169083151502179055508080610da9906115e3565b915050610d39565b50565b828054610dc09061168a565b90600052602060002090601f016020900481019282610de25760008555610e29565b82601f10610dfb57805160ff1916838001178555610e29565b82800160010185558215610e29579182015b82811115610e28578251825591602001919060010190610e0d565b5b509050610e369190610e5e565b5090565b5080546000825560030290600052602060002090810190610e5b9190610e7b565b50565b5b80821115610e77576000816000905550600101610e5f565b5090565b5b80821115610ec55760008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600301610e7c565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b610ef081610edd565b8114610efb57600080fd5b50565b600081359050610f0d81610ee7565b92915050565b600060208284031215610f2957610f28610ed3565b5b6000610f3784828501610efe565b91505092915050565b60008115159050919050565b610f5581610f40565b82525050565b6000602082019050610f706000830184610f4c565b92915050565b610f7f81610edd565b82525050565b6000602082019050610f9a6000830184610f76565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610ff382610faa565b810181811067ffffffffffffffff8211171561101257611011610fbb565b5b80604052505050565b6000611025610ec9565b90506110318282610fea565b919050565b600067ffffffffffffffff82111561105157611050610fbb565b5b61105a82610faa565b9050602081019050919050565b82818337600083830152505050565b600061108961108484611036565b61101b565b9050828152602081018484840111156110a5576110a4610fa5565b5b6110b0848285611067565b509392505050565b600082601f8301126110cd576110cc610fa0565b5b81356110dd848260208601611076565b91505092915050565b600080604083850312156110fd576110fc610ed3565b5b600061110b85828601610efe565b925050602083013567ffffffffffffffff81111561112c5761112b610ed8565b5b611138858286016110b8565b9150509250929050565b600067ffffffffffffffff82111561115d5761115c610fbb565b5b602082029050602081019050919050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061119e82611173565b9050919050565b6111ae81611193565b81146111b957600080fd5b50565b6000813590506111cb816111a5565b92915050565b60006111e46111df84611142565b61101b565b905080838252602082019050602084028301858111156112075761120661116e565b5b835b81811015611230578061121c88826111bc565b845260208401935050602081019050611209565b5050509392505050565b600082601f83011261124f5761124e610fa0565b5b813561125f8482602086016111d1565b91505092915050565b6000806040838503121561127f5761127e610ed3565b5b600083013567ffffffffffffffff81111561129d5761129c610ed8565b5b6112a98582860161123a565b92505060206112ba85828601610efe565b9150509250929050565b6112cd81611193565b82525050565b60006060820190506112e86000830186610f76565b6112f56020830185610f76565b61130260408301846112c4565b949350505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611344578082015181840152602081019050611329565b83811115611353576000848401525b50505050565b60006113648261130a565b61136e8185611315565b935061137e818560208601611326565b61138781610faa565b840191505092915050565b60006080820190506113a76000830187610f76565b6113b460208301866112c4565b6113c16040830185610f76565b81810360608301526113d38184611359565b905095945050505050565b600080fd5b60008083601f8401126113f9576113f8610fa0565b5b8235905067ffffffffffffffff811115611416576114156113de565b5b6020830191508360018202830111156114325761143161116e565b5b9250929050565b60008060006040848603121561145257611451610ed3565b5b600061146086828701610efe565b935050602084013567ffffffffffffffff81111561148157611480610ed8565b5b61148d868287016113e3565b92509250509250925092565b600080604083850312156114b0576114af610ed3565b5b60006114be85828601610efe565b92505060206114cf85828601610efe565b9150509250929050565b600082825260208201905092915050565b7f73657373696f6e206e6f74207374617274656400000000000000000000000000600082015250565b60006115206013836114d9565b915061152b826114ea565b602082019050919050565b6000602082019050818103600083015261154f81611513565b9050919050565b6000819050919050565b61157161156c82610edd565b611556565b82525050565b60006115838286611560565b6020820191506115938285611560565b6020820191506115a38284611560565b602082019150819050949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006115ee82610edd565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415611621576116206115b4565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806116a257607f821691505b602082108114156116b6576116b561165b565b5b50919050565b60008190508160005260206000209050919050565b600081546116de8161168a565b6116e88186611315565b94506001821660008114611703576001811461171557611748565b60ff1983168652602086019350611748565b61171e856116bc565b60005b8381101561174057815481890152600182019150602081019050611721565b808801955050505b50505092915050565b60006080820190506117666000830187610f76565b61177360208301866112c4565b6117806040830185610f76565b818103606083015261179281846116d1565b905095945050505050565b7f73657373696f6e20616c726561647920737461727465642c2066696e616c697a60008201527f6520666972737400000000000000000000000000000000000000000000000000602082015250565b60006117f96027836114d9565b91506118048261179d565b604082019050919050565b60006020820190508181036000830152611828816117ec565b9050919050565b600061183a82610edd565b915061184583610edd565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561187a576118796115b4565b5b828201905092915050565b60006118918385611315565b935061189e838584611067565b6118a783610faa565b840190509392505050565b60006060820190506118c76000830187610f76565b6118d46020830186610f76565b81810360408301526118e7818486611885565b905095945050505050565b60008060006060848603121561190b5761190a610ed3565b5b600061191986828701610efe565b935050602061192a86828701610efe565b925050604061193b86828701610efe565b9150509250925092565b600060408201905061195a6000830185610f76565b6119676020830184610f76565b939250505056fea26469706673582212207344f3c9ea406be6bcbdddc287b911e8e804121a692a4fdff6f9f944bac3e5e464736f6c634300080a0033"}},"version":"0.8.10+commit.fc410830.Linux.g++"}